(this.webpackJsonpMovieContext=this.webpackJsonpMovieContext||[]).push([[0],{23:function(e,t,a){},29:function(e,t,a){e.exports=a(61)},34:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(25),r=a.n(l),i=(a(34),a(5)),m=function(){return c.a.createElement("div",null,"Not found")},o=a(8),s=a(26),u=a.n(s),v=function(e){return JSON.parse(localStorage.getItem(e))},f=Object(n.createContext)(),d=(a(52),c.a.memo((function(e){return c.a.createElement("div",{className:"lds-roller"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null))}))),E=(a(23),a(53),function(e){var t=e.movie,a=Object(n.useContext)(f),l=a.refetch,r=a.setRefetch,i=a.setFav,m=a.fav,o="N/A"===t.Poster?"https://m.media-amazon.com/images/M/MV5BMTczNTI2ODUwOF5BMl5BanBnXkFtZTcwMTU0NTIzMw@@._V1_SX300.jpg":t.Poster,s=m.filter((function(e){return e.imdbID===t.imdbID})).length,u=s?"fas fa-heart movie favourite":"fas fa-heart movie",d=function(e){var t,a,n=[];localStorage.getItem("favMovies")&&(n=v("favMovies")),n.find((function(t){return t.imdbID===e.imdbID}))?n=n.filter((function(t){return t.imdbID!==e.imdbID})):n.push(e),t="favMovies",a=n,localStorage.setItem(t,JSON.stringify(a)),i(n),r(!l)};return c.a.createElement("div",{className:"container",style:{backgroundImage:"url(".concat(o,")")}},c.a.createElement("div",{className:"overlay"},c.a.createElement("div",{className:"items"}),c.a.createElement("div",{className:"items head"},c.a.createElement("p",null,t.Title),c.a.createElement("hr",null)),c.a.createElement("div",{className:"items price"},c.a.createElement("p",{className:"new"},t.Year)),c.a.createElement("div",{className:"items cart"},c.a.createElement("button",{onClick:function(){return d(t)}},c.a.createElement("i",{className:u}),s?"REMOVE FROM FAVOURITES":"ADD TO FAVOURITES"))))}),h=function(){var e=Object(n.useContext)(f),t=e.movies,a=e.loading;return c.a.createElement("main",null,a?c.a.createElement("div",{className:"loader__container"},c.a.createElement(d,null)):null,t&&t.length&&!a>0?c.a.createElement("div",{className:"movies__container --flex"},t.map((function(e){return c.a.createElement(E,{movie:e,key:e.imdbID})}))):c.a.createElement("div",{className:"begin__container"},c.a.createElement("div",{className:"begin__image"})))},b=function(){var e=Object(n.useContext)(f),t=e.loading,a=e.fav,l=e.searchedFav;return c.a.createElement("main",null,t?c.a.createElement("div",{className:"loader__container"},c.a.createElement(d,null)):null,a&&a.length>0&&!t>0?l&&l.length>0?c.a.createElement("div",{className:"movies__container --flex"},l.map((function(e,t){return c.a.createElement(E,{movie:e,key:t})}))):c.a.createElement("div",{className:"movies__container --flex"},a.map((function(e,t){return c.a.createElement(E,{movie:e,key:t})}))):c.a.createElement("div",{className:"begin__container"},c.a.createElement("div",{className:"begin__image"})))},N=function(){var e=v("favMovies");return c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:"/",component:h}),c.a.createElement(i.a,{exact:!0,path:"/favourites",render:function(){return c.a.createElement(b,{favouriteMovies:e})}}),c.a.createElement(i.a,{component:m}))},g=a(9),p=(a(59),a(60),Object(i.f)((function(e){var t=e.location,a=Object(n.useContext)(f),l=a.handleSubmit,r=a.handleSearchChange,i=a.search,m=a.handleFavouritesSearch;return c.a.createElement("form",{className:"search demo-2",onSubmit:"/"===t.pathname?function(e){return l(e)}:function(e){return m(e)}},c.a.createElement("input",{onChange:r,type:"text",id:"search",placeholder:"Titles, tags etc...",name:"search",value:i}))}))),O=function(){return c.a.createElement("header",null,c.a.createElement("nav",null,c.a.createElement("ul",null,c.a.createElement("li",{className:"nav__item"},c.a.createElement(g.b,{to:"/"},c.a.createElement("div",{className:"circle"},c.a.createElement("i",{className:"fas fa-home"})))),c.a.createElement("li",{className:"nav__item"},c.a.createElement(g.b,{to:"/favourites"},c.a.createElement("div",{className:"circle"},c.a.createElement("i",{className:"fas fa-heart"})))),c.a.createElement("li",{className:"nav__item"},c.a.createElement(p,null)))))};r.a.render(c.a.createElement(g.a,{basename:"/"},c.a.createElement((function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),l=a[0],r=a[1],i=Object(n.useState)(!1),m=Object(o.a)(i,2),s=m[0],d=m[1],E=Object(n.useState)(""),h=Object(o.a)(E,2),b=h[0],N=h[1],g=Object(n.useState)(!1),p=Object(o.a)(g,2),O=p[0],_=p[1],S=Object(n.useState)(v("favMovies")||[]),j=Object(o.a)(S,2),I=j[0],M=j[1],x=Object(n.useState)([]),C=Object(o.a)(x,2),D=C[0],w=C[1];return c.a.createElement(f.Provider,{value:{loading:s,setLoading:d,search:b,movies:l,fav:I,setFav:M,searchedFav:D,refetch:O,setRefetch:_,handleSearchChange:function(e){N(e.target.value)},handleSubmit:function(e){e.preventDefault(),d(!0),u.a.get("".concat("https://www.omdbapi.com/?","s=").concat(b).concat("&apikey=ba34f40c")).then((function(e){r(e.data.Search),d(!1),N("")}))},handleFavouritesSearch:function(e){e.preventDefault();var t=b.toLowerCase(),a=I.filter((function(e){return e.Title.toLowerCase().includes(t)}));w(a),N("")}}},e.children)}),null,c.a.createElement(O,null),c.a.createElement(N,null))),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.958ab37e.chunk.js.map