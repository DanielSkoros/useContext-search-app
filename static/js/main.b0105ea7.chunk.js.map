{"version":3,"sources":["containers/Page404/index.js","storage/localStorage.js","context/MovieContext.js","components/Loading/index.js","components/Movie/index.js","containers/Home/index.js","containers/Favourites/index.js","App.js","components/Search/index.js","components/Header/index.js","index.js"],"names":["Index","retrieveFromLocal","key","JSON","parse","localStorage","getItem","MoviesContext","createContext","Loader","React","memo","props","className","Movie","movie","appContext","useContext","refetch","setRefetch","setFav","fav","poster","Poster","isInFavourites","filter","el","imdbID","length","classes","addToFavourites","id","data","favourites","find","push","setItem","stringify","style","backgroundImage","Title","Year","onClick","Home","movies","loading","map","Favourites","searchedFav","i","Routes","favouriteMovies","exact","path","component","render","Page404","withRouter","location","handleSubmit","handleSearchChange","search","handleFavouritesSearch","onSubmit","pathname","e","onChange","type","placeholder","name","value","Header","to","ReactDOM","basename","useState","setMovies","setLoading","setSearch","setSearchedFav","Provider","target","preventDefault","axios","get","then","res","Search","query","toLowerCase","searched","includes","children","App","document","getElementById"],"mappings":"0UAUeA,EARD,WACV,OACI,2C,wBCJKC,EAAoB,SAACC,GAC9B,OAAOC,KAAKC,MAAMC,aAAaC,QAAQJ,KCKrCK,EAAgBC,0BCWPC,G,MAfAC,IAAMC,MAAK,SAAqBC,GAC3C,OACI,yBAAKC,UAAU,cACX,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,mCC8CGC,G,YAjDD,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACPC,EAAaC,qBAAWV,GACtBW,EAAqCF,EAArCE,QAASC,EAA4BH,EAA5BG,WAAYC,EAAgBJ,EAAhBI,OAAQC,EAAQL,EAARK,IAC/BC,EACe,QAAjBP,EAAMQ,OAPV,qGAOyDR,EAAMQ,OAEzDC,EAAiBH,EAAII,QAAO,SAAAC,GAAE,OAAIA,EAAGC,SAAWZ,EAAMY,UAAQC,OAC9DC,EAAUL,EAAc,oDACxBM,EAAkB,SAACC,GACrB,IHdoB7B,EAAK8B,EGcrBC,EAAa,GACb5B,aAAaC,QAAQ,eACrB2B,EAAahC,EAAkB,cAEZgC,EAAWC,MAAK,SAAAR,GAAE,OAAIA,EAAGC,SAAWI,EAAGJ,UAE1DM,EAAaA,EAAWR,QAAO,SAAAC,GAAE,OAAIA,EAAGC,SAAWI,EAAGJ,UAEtDM,EAAWE,KAAKJ,GHtBA7B,EGwBR,YHxBa8B,EGwBAC,EHvB/B5B,aAAa+B,QAAQlC,EAAKC,KAAKkC,UAAUL,IGwBnCZ,EAAOa,GACPd,GAAYD,IAGhB,OACI,yBAAKL,UAAU,YAAYyB,MAAO,CAC9BC,gBAAgB,OAAD,OAASjB,EAAT,OAEf,yBAAKT,UAAU,WACX,yBAAKA,UAAU,UACf,yBAAKA,UAAU,cACX,2BAAIE,EAAMyB,OACV,8BAEJ,yBAAK3B,UAAU,eACX,uBAAGA,UAAU,OAAOE,EAAM0B,OAE9B,yBAAK5B,UAAU,cACX,4BAAQ6B,QAAS,kBAAMZ,EAAgBf,KACnC,uBAAGF,UAAWgB,IACbL,EAAiB,yBAA2B,0BCZtDmB,EAhCF,WACT,IAAM3B,EAAaC,qBAAWV,GACtBqC,EAAoB5B,EAApB4B,OAAQC,EAAY7B,EAAZ6B,QAsBhB,OACI,8BACKA,EAPL,yBAAKhC,UAAW,qBACZ,kBAAC,EAAD,OAM4B,KAC3B+B,GAAUA,EAAOhB,SAAWiB,EAAU,EAhB7C,yBAAKhC,UAAW,4BACX+B,EAAOE,KAAI,SAAA/B,GAAK,OACb,kBAAC,EAAD,CAAOA,MAAOA,EAAOb,IAAKa,EAAMY,aARtC,yBAAKd,UAAW,oBACZ,yBAAKA,UAAU,oBCuCZkC,EA5CI,WACf,IAAM/B,EAAaC,qBAAWV,GACtBsC,EAA8B7B,EAA9B6B,QAASxB,EAAqBL,EAArBK,IAAK2B,EAAgBhC,EAAhBgC,YA+BtB,OACI,8BACKH,EAPL,yBAAKhC,UAAW,qBACZ,kBAAC,EAAD,OAM4B,KAC3BQ,GAAOA,EAAIO,OAAS,IAAMiB,EAAU,EAC/BG,GAAeA,EAAYpB,OAAS,EAjB9C,yBAAKf,UAAW,4BACXmC,EAAYF,KAAI,SAAC/B,EAAOkC,GAAR,OACb,kBAAC,EAAD,CAAOlC,MAAOA,EAAOb,IAAK+C,QAVlC,yBAAKpC,UAAW,4BACXQ,EAAIyB,KAAI,SAAC/B,EAAOkC,GAAR,OACL,kBAAC,EAAD,CAAOlC,MAAOA,EAAOb,IAAK+C,QARlC,yBAAKpC,UAAW,oBACZ,yBAAKA,UAAU,oBCIZqC,EAVA,WACX,IAAMC,EAAkBlD,EAAkB,aAC5C,OACI,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOmD,OAAK,EAACC,KAAM,IAAKC,UAAWX,IACnC,kBAAC,IAAD,CAAOS,OAAK,EAACC,KAAM,cAAeE,OAAQ,kBAAM,kBAAC,EAAD,CAAYJ,gBAAiBA,OAC7E,kBAAC,IAAD,CAAOG,UAAWE,M,OCaXC,G,YAAAA,aArBA,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SACP1C,EAAaC,qBAAWV,GACtBoD,EAAsE3C,EAAtE2C,aAAcC,EAAwD5C,EAAxD4C,mBAAoBC,EAAoC7C,EAApC6C,OAAQC,EAA4B9C,EAA5B8C,uBAElD,OACI,0BAAMjD,UAAU,gBACVkD,SAAgC,MAAtBL,EAASM,SACb,SAAAC,GAAC,OAAIN,EAAaM,IAClB,SAAAA,GAAC,OAAIH,EAAuBG,KACpC,2BACIC,SAAUN,EACVO,KAAK,OACLpC,GAAG,SACHqC,YAAY,sBACZC,KAAK,SACLC,MAAOT,SCYRU,EA5BA,WACX,OACG,gCACK,6BACI,4BACI,wBAAI1D,UAAU,aACV,kBAAC,IAAD,CAAM2D,GAAG,KACN,yBAAK3D,UAAU,UACX,uBAAGA,UAAU,mBAIxB,wBAAIA,UAAU,aACV,kBAAC,IAAD,CAAM2D,GAAG,eACN,yBAAK3D,UAAU,UACX,uBAAGA,UAAU,oBAIxB,wBAAIA,UAAU,aACV,kBAAC,EAAD,WChBxB4D,IAASlB,OACL,kBAAC,IAAD,CAAYmB,SAAS,KACjB,mBRFe,SAAC9D,GAAW,IAAD,EAEF+D,mBAAS,IAFP,mBAEvB/B,EAFuB,KAEfgC,EAFe,OAGAD,oBAAS,GAHT,mBAGvB9B,EAHuB,KAGdgC,EAHc,OAIFF,mBAAS,IAJP,mBAIvBd,EAJuB,KAIfiB,EAJe,OAKAH,oBAAS,GALT,mBAKvBzD,EALuB,KAKdC,EALc,OAMRwD,mBAAS1E,EAAkB,cAAgB,IANnC,mBAMvBoB,EANuB,KAMlBD,EANkB,OAOQuD,mBAAS,IAPjB,mBAOvB3B,EAPuB,KAOV+B,EAPU,KAgC9B,OACI,kBAACxE,EAAcyE,SAAf,CAAwBV,MAAO,CAC3BzB,UACAgC,aACAhB,SACAjB,SACAvB,MACAD,SACA4B,cACA9B,UAASC,aACTyC,mBAjCmB,SAACK,GACxBa,EAAUb,EAAEgB,OAAOX,QAiCfX,aA9Ba,SAAAM,GACjBA,EAAEiB,iBACEL,GAAW,GACXM,IAAMC,IAAN,UArBiB,4BAqBjB,aAA+BvB,GAA/B,OApBW,qBAqBNwB,MAAK,SAAAC,GACFV,EAAUU,EAAItD,KAAKuD,QACnBV,GAAW,GACXC,EAAU,QAwBlBhB,uBApBuB,SAACG,GAC5BA,EAAEiB,iBACF,IAAMM,EAAQ3B,EAAO4B,cACfC,EAAWrE,EAAII,QAAO,SAAAC,GAAE,OAAIA,EAAGc,MAAMiD,cAAcE,SAASH,MAClET,EAAeW,GACfZ,EAAU,OAiBLlE,EAAMgF,YQ5CX,KACI,kBAAC,EAAD,MACA,kBAACC,EAAD,QAGRC,SAASC,eAAe,W","file":"static/js/main.b0105ea7.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Index = () => {\r\n    return (\r\n        <div>\r\n            Not found\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Index;\r\n","export const retrieveFromLocal = (key) => {\r\n    return JSON.parse(localStorage.getItem(key));\r\n};\r\n\r\nexport const updateLocal = (key, data) => {\r\n  localStorage.setItem(key, JSON.stringify(data));\r\n};\r\n","import React, { useState, createContext } from 'react';\r\nimport axios from 'axios/index';\r\nimport {retrieveFromLocal} from \"../storage/localStorage\";\r\nexport const MOVIE_API_URL = \"https://www.omdbapi.com/?\";\r\nexport const API_KEY = '&apikey=ba34f40c';\r\n\r\nconst MoviesContext = createContext();\r\n\r\nconst MoviesProvider = (props) => {\r\n\r\n    const [movies, setMovies] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [search, setSearch] = useState('');\r\n    const [refetch, setRefetch] = useState(false);\r\n    const [fav, setFav] = useState(retrieveFromLocal('favMovies') || []);\r\n    const [searchedFav, setSearchedFav] = useState([]);\r\n\r\n    const handleSearchChange = (e) => {\r\n        setSearch(e.target.value)\r\n    };\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n            setLoading(true);\r\n            axios.get(`${MOVIE_API_URL}s=${search}${API_KEY}`)\r\n                .then(res => {\r\n                    setMovies(res.data.Search);\r\n                    setLoading(false);\r\n                    setSearch('');\r\n                });\r\n    };\r\n\r\n    const handleFavouritesSearch = (e) => {\r\n        e.preventDefault();\r\n        const query = search.toLowerCase();\r\n        const searched = fav.filter(el => el.Title.toLowerCase().includes(query));\r\n        setSearchedFav(searched);\r\n        setSearch('');\r\n    };\r\n\r\n    return (\r\n        <MoviesContext.Provider value={{\r\n            loading,\r\n            setLoading,\r\n            search,\r\n            movies,\r\n            fav,\r\n            setFav,\r\n            searchedFav,\r\n            refetch, setRefetch,\r\n            handleSearchChange,\r\n            handleSubmit,\r\n            handleFavouritesSearch,\r\n        }}>\r\n            {props.children}\r\n        </MoviesContext.Provider>\r\n    );\r\n};\r\n\r\nexport { MoviesProvider, MoviesContext };\r\n\r\n","import React from 'react';\r\nimport './index.css';\r\nconst Loader = React.memo(function MyComponent(props) {\r\n    return (\r\n        <div className=\"lds-roller\">\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default Loader\r\n\r\n","import React, {useContext} from \"react\";\r\nimport './index.css';\r\nimport { retrieveFromLocal, updateLocal } from \"../../storage/localStorage\";\r\nimport {MoviesContext} from \"../../context/MovieContext\";\r\n\r\nconst DEFAULT_PLACEHOLDER_IMAGE =\r\n    \"https://m.media-amazon.com/images/M/MV5BMTczNTI2ODUwOF5BMl5BanBnXkFtZTcwMTU0NTIzMw@@._V1_SX300.jpg\";\r\n\r\n\r\nconst Movie = ({ movie }) => {\r\n    const appContext = useContext(MoviesContext);\r\n    const { refetch, setRefetch, setFav, fav } = appContext;\r\n    const poster =\r\n        movie.Poster === \"N/A\" ? DEFAULT_PLACEHOLDER_IMAGE : movie.Poster;\r\n\r\n    const isInFavourites = fav.filter(el => el.imdbID === movie.imdbID).length;\r\n    const classes = isInFavourites ? `fas fa-heart movie favourite` : `fas fa-heart movie`;\r\n    const addToFavourites = (id) => {\r\n        let favourites = [];\r\n        if (localStorage.getItem('favMovies')) {\r\n            favourites = retrieveFromLocal('favMovies');\r\n        }\r\n        const isInFavourites = favourites.find(el => el.imdbID === id.imdbID);\r\n        if(isInFavourites){\r\n            favourites = favourites.filter(el => el.imdbID !== id.imdbID);\r\n        }else {\r\n            favourites.push(id);\r\n        }\r\n        updateLocal('favMovies', favourites);\r\n        setFav(favourites);\r\n        setRefetch(!refetch)\r\n    };\r\n\r\n    return (\r\n        <div className=\"container\" style={{\r\n            backgroundImage: `url(${poster})`\r\n        }}>\r\n            <div className=\"overlay\">\r\n                <div className=\"items\"></div>\r\n                <div className=\"items head\">\r\n                    <p>{movie.Title}</p>\r\n                    <hr />\r\n                </div>\r\n                <div className=\"items price\">\r\n                    <p className=\"new\">{movie.Year}</p>\r\n                </div>\r\n                <div className=\"items cart\">\r\n                    <button onClick={() => addToFavourites(movie)}>\r\n                        <i className={classes}></i>\r\n                        {isInFavourites ? 'REMOVE FROM FAVOURITES' : 'ADD TO FAVOURITES'}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Movie;\r\n","import React, {useContext} from 'react';\r\nimport {MoviesContext} from \"../../context/MovieContext\";\r\nimport Loader from \"../../components/Loading\";\r\nimport './index.css';\r\nimport Movie from \"../../components/Movie\";\r\nconst Home = () => {\r\n    const appContext = useContext(MoviesContext);\r\n    const { movies, loading } = appContext;\r\n\r\n    const renderBeginScreen = () => (\r\n        <div className={'begin__container'}>\r\n            <div className=\"begin__image\"></div>\r\n        </div>\r\n    );\r\n\r\n    const renderResults = () => (\r\n      <div className={'movies__container --flex'}>\r\n          {movies.map(movie => (\r\n              <Movie movie={movie} key={movie.imdbID}/>\r\n          ))}\r\n      </div>\r\n    );\r\n\r\n    const renderLoader = () => (\r\n        <div className={'loader__container'}>\r\n            <Loader />\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <main>\r\n            {loading ? renderLoader() : null}\r\n            {movies && movies.length && !loading > 0 ? renderResults() : renderBeginScreen()}\r\n        </main>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n","import React, {useContext} from 'react';\r\nimport Movie from \"../../components/Movie\";\r\nimport Loader from \"../../components/Loading\";\r\nimport '../Home/index.css';\r\nimport {MoviesContext } from \"../../context/MovieContext\";\r\n\r\nconst Favourites = ()  => {\r\n    const appContext = useContext(MoviesContext);\r\n    const { loading, fav, searchedFav } = appContext;\r\n\r\n\r\n    const renderBeginScreen = () => (\r\n        <div className={'begin__container'}>\r\n            <div className=\"begin__image\"></div>\r\n        </div>\r\n    );\r\n\r\n    const renderResults = () => (\r\n        <div className={'movies__container --flex'}>\r\n            {fav.map((movie, i) => (\r\n                <Movie movie={movie} key={i}/>\r\n            ))}\r\n        </div>\r\n    );\r\n\r\n    const renderSearchResults = () => (\r\n        <div className={'movies__container --flex'}>\r\n            {searchedFav.map((movie, i) => (\r\n                <Movie movie={movie} key={i}/>\r\n            ))}\r\n        </div>\r\n    );\r\n\r\n    const renderLoader = () => (\r\n        <div className={'loader__container'}>\r\n            <Loader />\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <main>\r\n            {loading ? renderLoader() : null}\r\n            {fav && fav.length > 0 && !loading > 0\r\n                ? searchedFav && searchedFav.length > 0 ?\r\n                    renderSearchResults() : renderResults()\r\n                : renderBeginScreen()}\r\n        </main>\r\n    );\r\n};\r\n\r\nexport default Favourites;\r\n","import React from 'react';\nimport { Switch, Route } from \"react-router-dom\";\nimport Page404 from \"./containers/Page404\";\nimport Home from \"./containers/Home\";\nimport Favourites from \"./containers/Favourites\";\nimport {retrieveFromLocal} from \"./storage/localStorage\";\n\nconst Routes = () => {\n    const favouriteMovies = retrieveFromLocal('favMovies');\n  return (\n      <Switch>\n        <Route exact path={'/'} component={Home} />\n        <Route exact path={'/favourites'} render={() => <Favourites favouriteMovies={favouriteMovies}/>} />\n        <Route component={Page404} />\n      </Switch>\n  )\n};\nexport default Routes;\n","import React, { useContext } from 'react';\r\nimport {MoviesContext} from \"../../context/MovieContext\";\r\nimport { withRouter } from \"react-router\";\r\nimport './index.css';\r\n\r\nconst Search = ({location}) => {\r\n    const appContext = useContext(MoviesContext);\r\n    const { handleSubmit, handleSearchChange, search, handleFavouritesSearch  } = appContext;\r\n\r\n    return (\r\n        <form className=\"search demo-2\"\r\n              onSubmit={location.pathname === '/'\r\n                  ? e => handleSubmit(e)\r\n                  : e => handleFavouritesSearch(e)}>\r\n            <input\r\n                onChange={handleSearchChange}\r\n                type=\"text\"\r\n                id=\"search\"\r\n                placeholder=\"Titles, tags etc...\"\r\n                name=\"search\"\r\n                value={search}\r\n            />\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default withRouter(Search);\r\n","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport './index.css'\r\nimport Search from \"../Search\";\r\nconst Header = () => {\r\n    return (\r\n       <header>\r\n            <nav>\r\n                <ul>\r\n                    <li className=\"nav__item\">\r\n                        <Link to='/'>\r\n                           <div className=\"circle\">\r\n                               <i className=\"fas fa-home\"></i>\r\n                           </div>\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"nav__item\">\r\n                        <Link to='/favourites'>\r\n                           <div className=\"circle\">\r\n                               <i className=\"fas fa-heart\"></i>\r\n                           </div>\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"nav__item\">\r\n                        <Search />\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n       </header>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {HashRouter} from \"react-router-dom\";\nimport Header from \"./components/Header\";\nimport {MoviesProvider} from \"./context/MovieContext\";\n\nReactDOM.render(\n    <HashRouter basename='/'>\n        <MoviesProvider>\n            <Header />\n            <App />\n        </MoviesProvider>\n    </HashRouter>,\n    document.getElementById('root'));\n"],"sourceRoot":""}