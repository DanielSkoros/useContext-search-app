{"version":3,"sources":["containers/Page404/index.js","storage/localStorage.js","context/MovieContext.js","components/Loading/index.js","components/Movie/index.js","containers/Home/index.js","containers/Favourites/index.js","App.js","components/Search/index.js","components/Header/index.js","index.js"],"names":["Index","retrieveFromLocal","key","JSON","parse","localStorage","getItem","MoviesContext","createContext","Loader","React","memo","props","className","Movie","movie","appContext","useContext","refetch","setRefetch","setFav","poster","Poster","addToFavourites","id","data","favourites","find","el","imdbID","filter","push","setItem","stringify","style","backgroundImage","Title","Year","onClick","Home","movies","loading","length","map","Favourites","setLoading","fav","i","Routes","favouriteMovies","exact","path","component","render","Page404","Search","handleSubmit","handleSearchChange","search","onSubmit","e","onChange","type","placeholder","name","value","Header","to","ReactDOM","basename","useState","setMovies","setSearch","Provider","target","preventDefault","axios","get","then","res","children","App","document","getElementById"],"mappings":"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","file":"static/js/main.bff9ecc6.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Index = () => {\r\n    return (\r\n        <div>\r\n            Not found\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Index;\r\n","export const retrieveFromLocal = (key) => {\r\n    return JSON.parse(localStorage.getItem(key));\r\n};\r\n\r\nexport const updateLocal = (key, data) => {\r\n  localStorage.setItem(key, JSON.stringify(data));\r\n};\r\n","import React, { useState, createContext } from 'react';\r\nimport axios from 'axios/index';\r\nimport {retrieveFromLocal} from \"../storage/localStorage\";\r\nexport const MOVIE_API_URL = \"https://www.omdbapi.com/?\";\r\nexport const API_KEY = '&apikey=ba34f40c';\r\n\r\nconst MoviesContext = createContext();\r\n\r\nconst MoviesProvider = (props) => {\r\n\r\n    const [movies, setMovies] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [search, setSearch] = useState('');\r\n    const [refetch, setRefetch] = useState(false);\r\n    const [fav, setFav] = useState(retrieveFromLocal('favMovies') || []);\r\n\r\n    const handleSearchChange = (e) => {\r\n        setSearch(e.target.value)\r\n    };\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n            setLoading(true);\r\n            axios.get(`${MOVIE_API_URL}s=${search}${API_KEY}`)\r\n                .then(res => {\r\n                    setMovies(res.data.Search);\r\n                    setLoading(false);\r\n                });\r\n    };\r\n\r\n    return (\r\n        <MoviesContext.Provider value={{\r\n            loading,\r\n            setLoading,\r\n            search,\r\n            movies,\r\n            fav,\r\n            setFav,\r\n            refetch, setRefetch,\r\n            handleSearchChange,\r\n            handleSubmit,\r\n        }}>\r\n            {props.children}\r\n        </MoviesContext.Provider>\r\n    );\r\n};\r\n\r\nexport { MoviesProvider, MoviesContext };\r\n\r\n","import React from 'react';\r\nimport './index.css';\r\nconst Loader = React.memo(function MyComponent(props) {\r\n    return (\r\n        <div className=\"lds-roller\">\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default Loader\r\n\r\n","import React, {useContext} from \"react\";\r\nimport './index.css';\r\nimport { retrieveFromLocal, updateLocal } from \"../../storage/localStorage\";\r\nimport {MoviesContext} from \"../../context/MovieContext\";\r\n\r\nconst DEFAULT_PLACEHOLDER_IMAGE =\r\n    \"https://m.media-amazon.com/images/M/MV5BMTczNTI2ODUwOF5BMl5BanBnXkFtZTcwMTU0NTIzMw@@._V1_SX300.jpg\";\r\n\r\n\r\nconst Movie = ({ movie }) => {\r\n    const appContext = useContext(MoviesContext);\r\n    const { refetch, setRefetch, setFav } = appContext;\r\n    const poster =\r\n        movie.Poster === \"N/A\" ? DEFAULT_PLACEHOLDER_IMAGE : movie.Poster;\r\n\r\n    const addToFavourites = (id) => {\r\n        let favourites = [];\r\n        if (localStorage.getItem('favMovies')) {\r\n            favourites = retrieveFromLocal('favMovies');\r\n        }\r\n        const isInFavourites = favourites.find(el => el.imdbID === id.imdbID);\r\n        if(isInFavourites){\r\n            favourites = favourites.filter(el => el.imdbID !== id.imdbID);\r\n        }else {\r\n            favourites.push(id);\r\n        }\r\n        updateLocal('favMovies', favourites);\r\n        setFav(favourites);\r\n        setRefetch(!refetch)\r\n    };\r\n\r\n    return (\r\n        <div className=\"container\" style={{\r\n            backgroundImage: `url(${poster})`\r\n        }}>\r\n            <div className=\"overlay\">\r\n                <div className=\"items\"></div>\r\n                <div className=\"items head\">\r\n                    <p>{movie.Title}</p>\r\n                    <hr />\r\n                </div>\r\n                <div className=\"items price\">\r\n                    <p className=\"new\">{movie.Year}</p>\r\n                </div>\r\n                <div className=\"items cart\">\r\n\r\n                    <button onClick={() => addToFavourites(movie)}>\r\n                        <i className=\"fas fa-heart movie\"></i>\r\n                        ADD TO FAVOURITES\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Movie;\r\n","import React, {useContext} from 'react';\r\nimport {MoviesContext} from \"../../context/MovieContext\";\r\nimport Loader from \"../../components/Loading\";\r\nimport './index.css';\r\nimport Movie from \"../../components/Movie\";\r\nconst Home = () => {\r\n    const appContext = useContext(MoviesContext);\r\n    const { movies, loading } = appContext;\r\n\r\n    const renderBeginScreen = () => (\r\n        <div className={'begin__container'}>\r\n            <div className=\"begin__image\"></div>\r\n        </div>\r\n    );\r\n\r\n    const renderResults = () => (\r\n      <div className={'movies__container --flex'}>\r\n          {movies.map(movie => (\r\n              <Movie movie={movie} key={movie.imdbID}/>\r\n          ))}\r\n      </div>\r\n    );\r\n\r\n    const renderLoader = () => (\r\n        <div className={'loader__container'}>\r\n            <Loader />\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <main>\r\n            {loading ? renderLoader() : null}\r\n            {movies && movies.length && !loading > 0 ? renderResults() : renderBeginScreen()}\r\n        </main>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n","import React, {useContext} from 'react';\r\nimport Movie from \"../../components/Movie\";\r\nimport Loader from \"../../components/Loading\";\r\nimport axios from 'axios';\r\nimport '../Home/index.css';\r\nimport {MoviesContext, API_KEY, MOVIE_API_URL, } from \"../../context/MovieContext\";\r\n\r\nconst Favourites = ()  => {\r\n    const appContext = useContext(MoviesContext);\r\n    const { setLoading, loading, fav, setFav, refetch } = appContext;\r\n\r\n\r\n    const renderBeginScreen = () => (\r\n        <div className={'begin__container'}>\r\n            <div className=\"begin__image\"></div>\r\n        </div>\r\n    );\r\n\r\n    const renderResults = () => (\r\n        <div className={'movies__container --flex'}>\r\n            {fav.map((movie, i) => (\r\n                <Movie movie={movie} key={i}/>\r\n            ))}\r\n        </div>\r\n    );\r\n\r\n    const renderLoader = () => (\r\n        <div className={'loader__container'}>\r\n            <Loader />\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <main>\r\n            {loading ? renderLoader() : null}\r\n            {fav && fav.length > 0 && !loading > 0 ? renderResults() : renderBeginScreen()}\r\n        </main>\r\n    );\r\n};\r\n\r\nexport default Favourites;\r\n","import React from 'react';\nimport { Switch, Route } from \"react-router-dom\";\nimport Page404 from \"./containers/Page404\";\nimport Home from \"./containers/Home\";\nimport Favourites from \"./containers/Favourites\";\nimport {retrieveFromLocal} from \"./storage/localStorage\";\n\nconst Routes = () => {\n    const favouriteMovies = retrieveFromLocal('favMovies');\n  return (\n      <Switch>\n        <Route exact path={'/'} component={Home} />\n        <Route exact path={'/favourites'} render={() => <Favourites favouriteMovies={favouriteMovies}/>} />\n        <Route component={Page404} />\n      </Switch>\n  )\n};\nexport default Routes;\n","import React, { useContext } from 'react';\r\nimport {MoviesContext} from \"../../context/MovieContext\";\r\nimport './index.css';\r\n\r\nconst Search = () => {\r\n    const appContext = useContext(MoviesContext);\r\n    const { handleSubmit, handleSearchChange, search } = appContext;\r\n\r\n    return (\r\n        <form className=\"search demo-2\" onSubmit={e => handleSubmit(e)}>\r\n            <input\r\n                onChange={handleSearchChange}\r\n                type=\"text\"\r\n                id=\"search\"\r\n                placeholder=\"Titles, tags etc...\"\r\n                name=\"search\"\r\n                value={search}\r\n            />\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default Search;\r\n","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport './index.css'\r\nimport Search from \"../Search\";\r\nconst Header = () => {\r\n    return (\r\n       <header>\r\n            <nav>\r\n                <ul>\r\n                    <li className=\"nav__item\">\r\n                        <Link to='/'>\r\n                           <div className=\"circle\">\r\n                               <i className=\"fas fa-home\"></i>\r\n                           </div>\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"nav__item\">\r\n                        <Link to='/favourites'>\r\n                           <div className=\"circle\">\r\n                               <i className=\"fas fa-heart\"></i>\r\n                           </div>\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"nav__item\">\r\n                        <Search />\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n       </header>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {HashRouter} from \"react-router-dom\";\nimport Header from \"./components/Header\";\nimport {MoviesProvider} from \"./context/MovieContext\";\n\nReactDOM.render(\n    <HashRouter basename='/'>\n        <MoviesProvider>\n            <Header />\n            <App />\n        </MoviesProvider>\n    </HashRouter>,\n    document.getElementById('root'));\n"],"sourceRoot":""}